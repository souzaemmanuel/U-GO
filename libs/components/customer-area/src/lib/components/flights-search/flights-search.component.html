<div class="container">
  <div class="logo-section">
    <img alt="" src="../assets/icons/logo_2.png" />
  </div>
  <form class="form-section" [formGroup]="flightForm">
    <div class="form-group">
      <label>Insert the departure airport</label>
      <ng-autocomplete
        #fromAutocomplete
        [data]="departureAirports"
        [searchKeyword]="keyword"
        [itemTemplate]="itemTemplate"
        [debounceTime]="600"
        [notFoundTemplate]="notFoundTemplate"
        [historyListMaxNumber]="5"
        [isLoading]="isLoadingFrom"
        placeholder="From"
        notFoundText="No airport found"
        (selected)="selectOption($event, 'from')"
        (inputChanged)="onChangeSearch($event, 'from')"
        (inputCleared)="clearValue('from'); fromAutocomplete.close()"
      >
      </ng-autocomplete>
    </div>

    <div class="form-group">
      <label>Insert the arrival airport</label>
      <ng-autocomplete
        #fromAutocomplete
        [data]="arrivalAirports"
        [searchKeyword]="keyword"
        [itemTemplate]="itemTemplate"
        [debounceTime]="600"
        [notFoundTemplate]="notFoundTemplate"
        [isLoading]="isLoadingTo"
        [historyListMaxNumber]="5"
        placeholder="To"
        notFoundText="No airport found"
        (selected)="selectOption($event, 'to')"
        (inputChanged)="onChangeSearch($event, 'to')"
        (inputCleared)="clearValue('to'); fromAutocomplete.close()"
      >
      </ng-autocomplete>
    </div>

    <div class="form-group d-flex-column">
      <label>Insert your max budget</label>
      <input
        placeholder="Max $"
        type="number"
        min="0.00"
        step="0.01"
        formControlName="budget"
      />
    </div>

    <div class="form-group">
      <button class="button-light-blue" (click)="searchFlights()">
        <span> Search flights </span>
        <i class="material-icons icon">flight</i>
      </button>
    </div>
  </form>
</div>

<ng-template #itemTemplate let-item>
  <a [innerHTML]="item.fullName"></a>
</ng-template>

<ng-template #notFoundTemplate let-notFound>
  <div [innerHTML]="notFound"></div>
</ng-template>
